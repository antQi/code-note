# 资源合并与压缩-HTTP 请求的过程与潜在的性能优化点

## 目标

- 减少 HTTP 请求数量-合并
- 减少请求资源大小-压缩

##  怎么做

### 现代化的前端基本采用两种方式

1、  前端构建工具

2、 后端模版引擎

### 类别

- HTML 压缩
  - 压缩没有意义的字符 ，包括注释
    - 构建阶段压缩
    - 后端模版引擎
- CSS 压缩
  - 无效删除
  - CSS 语义合并
- JS 压缩与混乱
  - 删除无效字符
  - 删除注释
  - 代码语义的缩减和优化
  - 代码保护（ 混淆语义）
  - 文件合并（ 减少请求）
    - 合并文件可能存在的问题
      - 文件太大，首屏渲染
      - 缓存失效的问题（ 多文件合并时，只要其中一个文件变化，那这个文件的缓存就失效）
    - 公共库合并
    - 不同页面的合并
    - 见机行事，按需
- 启用 gzip

> 同样带宽  
> 代码压缩前：1.37s  
> 代码压缩后：411ms

影响因素

- 网络环境（压缩）
- 浏览器对同一个域名下的并发请求数量有限制（合并）

文件压缩与文件合并

- 业务代码与依赖库分开

- web 前端是一个动态的增量的 静态资源加载的过程，受网络环境的影响。所以我们需要做优化，让加载的过程体验更好
- HTTP 请求的过程及其中潜在的性能优化

## 问题

- 什么是前端
  - 一种 GUI 软件。
  - 开发 发布 运行的过程不一样
    - CS 架构
    - BS 架构
- 浏览器的一个请求从发送到返回经历了什么？
  - DNS  
    通过缓存 DNS 减少请求时间
  - 网络
  - 服务端
  - 浏览器

`深入理解HTTP请求的过程`
